# 云养APP - HTML原型

## 项目简介

云养是虚拟人物陪伴APP，用户上传照片创建AI虚拟伙伴，进行聊天互动。包含完整的商业化体系：每日签到、心跳值消耗、会员订阅。

**当前版本**: v0.3  
**最后更新**: 2025年10月18日

---

## 项目结构

```
Yunyang/
├── 01_login/                          # 登录模块（4个页面）
│   ├── login_html/
│   │   ├── login.html                 # 手机号验证码登录
│   │   ├── password_login.html        # 手机号密码登录
│   │   ├── forgot_password.html       # 忘记密码-输入手机号
│   │   ├── forgot_password_verify.html # 忘记密码-验证码验证
│   │   ├── forgot_password_reset.html  # 忘记密码-重置密码
│   │   └── homepage.html              # 聊天主页
│   └── login_prd/                     # 需求文档（4个）
│
├── 02_create_character/               # 创建人物模块（2个页面）
│   ├── html/
│   │   ├── upload.html                # 上传照片
│   │   └── character-profile.html     # 人物档案（3种模式）
│   └── prd/                           # 需求文档（2个）
│
├── 03_contacts/                       # 联系人模块（1个页面）
│   ├── html/
│   │   └── contacts.html              # 联系人列表
│   └── prd/                           # 需求文档（1个）
│
├── 04_chat/                           # 聊天模块（1个页面）
│   ├── html/
│   │   └── chat.html                  # 聊天详情
│   └── prd/                           # 需求文档（1个）
│
├── 05_profile/                        # 个人中心模块（1个页面）
│   ├── html/
│   │   └── profile.html               # 个人中心
│   └── prd/                           # 需求文档（1个）
│
├── 06_recharge/                       # 充值模块（1个页面）
│   ├── html/
│   │   └── recharge.html              # 充值中心
│   └── prd/                           # 需求文档（1个）
│
├── all_html/                          # 所有HTML文件集合（12个）
└── README.md
```

---

## 核心功能

### 1. 用户认证
- 手机号验证码登录（新用户自动注册，赠送1个创建额度+50心跳值）
- 手机号密码登录
- 忘记密码（3页流程：手机号→验证码→重置密码）

### 2. 虚拟人物创建
- 上传照片，AI生成人物信息（昵称、职业、性格、说话风格、初始关系）
- 人物档案3种模式：创建(create)、查看(view)、编辑(edit)
- 创建额度检查，额度不足引导充值

### 3. 聊天互动
- 与AI虚拟人物实时对话
- 每条消息消耗1点心跳值
- 心跳值不足时阻止发送并提示充值
- 所有头像可点击查看人物档案

### 4. 联系人管理
- 按首字母分组展示已创建人物
- 右侧字母索引快速定位
- 搜索功能（支持昵称、拼音）

### 5. 个人中心
- 资产展示：心跳值余额、已创建人物数量、VIP会员状态
- 每日签到：首次登录自动赠送50点心跳值（24点清零）
- 订阅充值、我的人物、联系我们、退出登录

### 6. 充值中心
- 会员套餐：周度会员（¥9.9）、月度会员（¥19.9）
- 心动充值：¥3、¥6、¥12三个固定档位
- 充值成功后数据实时同步所有页面

---

## 定价策略

### 会员套餐
| 套餐 | 价格 | 心跳值 | 创建额度 | VIP时长 |
|------|------|--------|----------|---------|
| 周度 | ¥9.9 | 1000 | 3个 | 7天 |
| 月度 | ¥19.9 | 2500 | 7个 | 30天 |

### 心动充值
| 档位 | 价格 | 心跳值 | 创建额度 |
|------|------|--------|----------|
| 小额 | ¥3 | 200 | 1个 |
| 中档 | ¥6 | 500 | 3个 |
| 大额 | ¥12 | 1200 | 7个 |

### 免费获取
- 注册用户：1个创建额度 + 50心跳值
- 每日签到：50点心跳值（24点清零）

---

## 数据结构

### localStorage数据项

```javascript
{
  // 用户认证
  userToken: "xxx",
  userInfo: {...},
  
  // 资产数据
  heartBalance: 2350,              // 永久心跳值
  dailyHeartBalance: 50,           // 每日赠送（24点清零）
  createQuota: 10,                 // 剩余创建额度
  
  // 人物数据
  characterList: [
    {
      id: "alice_001",
      name: "小仙女Alice",
      avatar: "A",
      birthday: "1998-05-20",
      occupation: "学生",
      personality: "温柔体贴",
      speakingStyle: "温柔宠溺",
      initialRelation: "暧昧好友"
    }
  ],
  characterCount: 1,
  
  // 签到数据
  lastSignInDate: "Wed Oct 16 2025"
}
```

---

## 核心业务流程

### 每日签到
```
用户首次登录 → 检查lastSignInDate ≠ 今天 → 赠送50心跳值 → 弹窗提示 → 24点清零
```

### 聊天消耗
```
发送消息 → 检查心跳值≥1 → 优先消耗每日赠送 → 不足消耗永久心跳值 → 全部不足时提示充值
```

### 创建人物
```
上传照片 → AI生成人设 → 编辑确认 → 检查createQuota>0 → 消耗1个额度 → 保存到characterList
```

### 充值流程
```
选择套餐 → 确认支付 → 增加heartBalance和createQuota → 2秒后返回 → 所有页面余额同步
```

---

## 需求文档说明

### 文档格式（v0.3统一）

所有需求文档采用统一格式，包含6个核心章节：
1. 📋 文档信息
2. 🏗️ 页面结构（树状图）
3. ⚙️ 功能需求详述（精简描述）
4. 🎨 UI设计规范
5. ✅ 测试与验收标准（功能完整性+交互体验）
6. 📝 更新记录

### 文档特点
- 语言精简，突出重点
- 删除冗余章节（页面概述、目标用户等）
- 保留核心业务逻辑（数据存储、AI Prompt、商业化逻辑）
- 测试标准合并为2类，避免按功能点重复

### 需求文档列表（10个）

**01_login/login_prd/**
1. login_需求文档.md - 登录页面（218行）
2. homepage_需求文档.md - 聊天主页（175行）
3. password_login_需求文档.md - 密码登录（129行）
4. forgot_password_需求文档.md - 忘记密码（173行）

**02_create_character/prd/**
5. upload_需求文档.md - 上传照片（128行）
6. character-profile_需求文档.md - 人物档案（291行，含AI Prompt）

**03_contacts/prd/**
7. contacts_需求文档.md - 联系人（141行）

**04_chat/prd/**
8. chat_需求文档.md - 聊天详情（234行，含数据方案）

**05_profile/prd/**
9. profile_需求文档.md - 个人中心（228行，含签到逻辑）

**06_recharge/prd/**
10. recharge_需求文档.md - 充值中心（224行，含定价方案）

---

## 快速开始

### 本地运行

```bash
# 克隆项目
git clone https://github.com/Cynthiafu9508/Yunyang.git

# 进入目录
cd Yunyang/all_html

# 打开login.html开始体验
```

### 推荐体验流程

1. `login.html` → 登录（测试手机号11位+验证码6位）
2. `homepage.html` → 查看聊天列表，触发每日签到
3. `upload.html` → 上传照片创建人物
4. `character-profile.html` → 编辑人物档案
5. `contacts.html` → 查看已创建人物
6. `chat.html` → 聊天消耗心跳值
7. `profile.html` → 查看资产余额
8. `recharge.html` → 充值心跳值和额度

---

## 技术实现

- **纯前端**: HTML + CSS + JavaScript
- **无框架**: 无依赖，直接打开即可运行
- **localStorage**: 本地数据持久化
- **响应式**: iPhone 16尺寸（393×852px）

---

## 更新日志

### v0.3 (2025-10-18)
- 优化所有需求文档（10个），统一格式
- 精简语言，突出重点
- 净精简2312行文档内容（约70%）
- 合并测试用例与验收标准
- 保留核心业务逻辑和AI Prompt

### v0.2 (2025-10-16)
- 新增每日签到系统
- 新增充值中心页面
- 完善商业化体系
- 聊天添加心跳值消耗
- 创建人物添加额度检查
- 所有页面数据打通

### v0.1 (2025-08-24)
- 初始版本：登录、聊天、人物创建基础功能

---

## 联系方式

- **客服邮箱**: 17621792630@163.com
- **官方客服微信**: 17621792630
- **官方小红书**: Dokidoki官方号
- **工作时间**: 9:00-18:00
- **GitHub**: https://github.com/Cynthiafu9508/Yunyang

---

**维护者**: 云养产品团队  
**仓库地址**: https://github.com/Cynthiafu9508/Yunyang
