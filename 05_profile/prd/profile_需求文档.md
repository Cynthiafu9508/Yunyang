# 个人中心页面产品需求文档 (PRD)

## 📋 文档信息
- **文档版本**: v0.3
- **创建日期**: 2025年8月24日
- **最后更新**: 2025年10月18日
- **页面名称**: 个人中心页面
- **原型文件**: profile.html

---

## 🏗️ 页面结构

```
个人中心页面
├── 状态栏 (系统级)
├── 导航栏
│   └── 页面标题 "我"
├── 用户信息卡片
│   ├── 头像区域（可点击修改）
│   ├── 基本信息
│   │   ├── 昵称（可编辑，含VIP标识）
│   │   ├── VIP到期时间
│   │   └── 用户ID（可复制）
│   └── 资产展示
│       ├── ❤️ 心跳值（总计）
│       └── 👤 已创建人物数量
├── 功能菜单
│   ├── 💳 订阅充值
│   ├── 👥 我的人物
│   ├── 📧 联系我们
│   ├── 🔒 隐私政策
│   └── 📋 使用条款
├── 退出登录按钮
└── 底部导航栏
    ├── 聊天
    ├── 联系人
    └── 我 (当前页)
```

---

## ⚙️ 功能需求详述

个人中心展示用户资产和会员状态，提供充值入口和基本设置，包含8个核心功能：用户信息卡片、每日签到、订阅充值、我的人物、联系我们、隐私政策、使用条款、退出登录、底部导航栏。

### 1. 用户信息卡片 (F9.1)
**头像区域**:
- 显示用户头像（默认表情图标）
- 右下角显示编辑图标
- 点击可触发更换头像功能

**基本信息**:
- 昵称：可编辑，默认"梦幻小仙女"，支持实时修改
- VIP会员标识：金色渐变"💎 VIP会员"徽章，显示到期时间（格式：到期时间：YYYY-MM-DD）
- 用户ID：只读，默认"fairy_dream_2024"，右侧带"复制"按钮，点击提示"ID已复制到剪贴板"

**资产展示**:
- 心跳值卡片：显示总心跳值（永久+今日赠送），❤️图标，千分位格式，点击跳转充值页面
- 已创建人物卡片：显示已创建的虚拟人物数量，👤图标，从localStorage读取，仅显示不可点击

---

### 2. 每日签到自动赠送 (F9.2)
- 触发时机：页面加载时自动检查
- 检查逻辑：对比lastSignInDate与当前日期
- 赠送规则：今日首次登录自动赠送50点心跳值，更新dailyHeartBalance为50，更新lastSignInDate
- 弹窗内容（延迟500ms）：
```
🎉 每日签到成功！

恭喜您获得50点心跳值
有效期至今日24:00

快去和小伙伴聊天吧～
```
- 24点清零机制：每次进入页面检查日期变化，日期改变则将dailyHeartBalance清零

---

### 3. 订阅充值入口 (F9.3)
- 菜单项："💳 订阅充值"
- 点击跳转到充值页面 (recharge.html)
- 位置：功能菜单第一项

---

### 4. 我的人物功能 (F9.4)
- 菜单项："👥 我的人物"
- 点击跳转到联系人页面 (contacts.html)
- 人物数量从localStorage的characterList读取，实时更新

---

### 5. 联系我们功能 (F9.5)
- 菜单项："📧 联系我们"
- 点击弹窗显示联系方式：
```
联系我们

客服邮箱：17621792630@163.com
官方客服微信：17621792630
官方小红书账号：Dokidoki官方号
工作时间：9:00-18:00

我们会尽快回复您的问题！
```

---

### 6. 隐私政策 (F9.6)
- 菜单项："🔒 隐私政策"
- 点击弹窗提示"打开隐私政策页面"
- 为后续完整实现预留入口

---

### 7. 使用条款 (F9.7)
- 菜单项："📋 使用条款"
- 点击弹窗提示"打开使用条款页面"
- 为后续完整实现预留入口

---

### 8. 退出登录功能 (F9.8)
- 按钮样式：粉色渐变按钮，全宽显示
- 图标：🚪 门图标
- 点击行为：
  1. 弹出确认对话框："确定要退出登录吗？"
  2. 用户确认后：清除userToken、清除userInfo、跳转到登录页面 (login.html)

---

### 9. 底部导航栏 (F9.9)
- 三个导航项：聊天、联系人、我
- 当前页"我"高亮显示
- 点击"聊天"跳转到聊天主页 (homepage.html)
- 点击"联系人"跳转到联系人页面 (contacts.html)
- 页面切换动画流畅
- 样式由设计师设计

---

## 🎨 UI设计规范

所有页面视觉设计（包括颜色、字体、布局、间距、圆角、阴影、动画等）统一由设计师设计。

---

## 💾 数据存储方案

### localStorage数据结构
```javascript
{
  // 用户基本信息
  userToken: "xxx",                    // 用户登录token
  userInfo: {...},                      // 用户详细信息
  
  // 资产信息
  heartBalance: 2350,                   // 永久心跳值
  dailyHeartBalance: 50,                // 每日赠送心跳值（24点清零）
  characterCount: 5,                    // 已创建人物数量
  createQuota: 10,                      // 剩余创建额度
  
  // 人物列表
  characterList: [                      // 已创建的人物列表
    {
      id: "alice_001",
      name: "小仙女Alice",
      avatar: "A",
      createTime: "2025-10-16T..."
    }
  ],
  
  // 签到记录
  lastSignInDate: "Wed Oct 16 2025",   // 上次签到日期
}
```

---

## ✅ 测试与验收标准

### 功能完整性
- [ ] 9个核心功能全部实现
- [ ] 用户信息展示完整准确
- [ ] VIP会员状态显示正确（徽章、到期时间）
- [ ] 心跳值显示总计（永久+今日赠送），千分位格式
- [ ] 已创建人物数量与characterList一致
- [ ] 用户ID复制功能正常
- [ ] 每日首次登录自动弹窗签到
- [ ] 同一天只弹窗一次
- [ ] 24点后日期变化可再次领取
- [ ] 赠送的50心跳值正确累加到总计
- [ ] 订阅充值跳转正确 (recharge.html)
- [ ] 我的人物跳转正确 (contacts.html)
- [ ] 联系我们弹窗显示正确
- [ ] 隐私政策点击有响应
- [ ] 使用条款点击有响应
- [ ] 退出登录有二次确认
- [ ] 退出成功清除userToken和userInfo
- [ ] 退出后跳转到登录页面 (login.html)
- [ ] 底部导航跳转正确（聊天、联系人）
- [ ] 当前页"我"高亮显示

### 交互体验
- [ ] 页面加载流畅
- [ ] 签到弹窗延迟500ms，避免突兀
- [ ] 点击反馈及时
- [ ] 页面切换动画流畅
- [ ] 数据实时同步准确

---

## 📝 更新记录

| 版本 | 日期 | 更新内容 | 负责人 |
|------|------|----------|--------|
| v0.1 | 2025-08-24 | 初始版本创建 | Cynthia |
| v0.2 | 2025-10-16 | 新增心跳值显示、每日签到、订阅充值功能 | Cynthia |
| v0.3 | 2025-10-18 | 精简功能描述语言，保留核心数据存储方案 | Cynthia |

---

**文档维护**: 云养产品团队  
**最后更新**: 2025年10月18日  
**版本**: v0.3
