# 充值中心页面产品需求文档 (PRD)

## 📋 文档信息
- **文档版本**: v0.3
- **创建日期**: 2025年10月16日
- **最后更新**: 2025年10月18日
- **页面名称**: 充值中心页面
- **原型文件**: recharge.html

---

## 🏗️ 页面结构

```
充值中心页面
├── 状态栏 (系统级)
├── 导航栏
│   ├── 返回按钮
│   ├── 页面标题 "充值中心"
│   └── 占位空间
├── 当前余额卡片
│   ├── 心跳值余额（总计）
│   ├── VIP会员状态
│   └── 已创建人物数量
├── 套餐类型切换
│   ├── 会员套餐 Tab
│   └── 心动充值 Tab
├── 套餐列表区域
│   ├── 会员套餐区（2个）
│   │   ├── 周度会员 ¥9.9
│   │   └── 月度会员 ¥19.9
│   └── 心动充值区（3个）
│       ├── ¥3充值
│       ├── ¥6充值
│       └── ¥12充值
└── 立即充值按钮（固定底部）
```

---

## ⚙️ 功能需求详述

充值中心提供会员订阅和心跳值充值服务，包含6个核心功能：导航栏、当前余额卡片、套餐类型切换、会员套餐、心动充值、立即充值按钮。

### 1. 导航栏功能 (F10.1)
- 返回按钮：点击返回个人中心 (profile.html)
- 页面标题："充值中心"，居中显示
- 右侧占位，保持标题居中
- 样式由设计师设计

---

### 2. 当前余额卡片 (F10.2)
- 心跳值余额：显示总计（heartBalance + dailyHeartBalance），千分位格式，大号字体
- VIP会员状态：显示"💎 VIP会员至 YYYY-MM-DD"
- 已创建人物：显示"👤 已创建 X 个人物"，从characterList.length读取
- 数据从localStorage实时读取
- 充值成功后自动更新
- 样式由设计师设计

---

### 3. 套餐类型切换 (F10.3)
- 两个Tab："会员套餐" 和 "心动充值"
- 默认显示"会员套餐"
- 选中状态：粉色渐变背景，白色文字
- 未选中状态：透明背景，灰紫色文字
- 点击Tab切换内容区域
- 切换时清除已选择的套餐
- 平滑过渡动画（0.3s ease）
- 样式由设计师设计

---

### 4. 会员套餐模块 (F10.4)
**周度会员 - ¥9.9**:
- 心跳值：1000次
- 人物创建：赠送3个额度
- VIP时长：7天
- 权益展示：❤️ 1000次心跳值、👤 赠送3个人物创建额度、⚡ 专属VIP标识

**月度会员 - ¥19.9**:
- 心跳值：2500次
- 人物创建：赠送7个额度
- VIP时长：30天
- 权益展示：❤️ 2500次心跳值、👤 赠送7个人物创建额度、⚡ 专属VIP标识、🎁 享受更多特权功能

**交互状态**:
- 默认：2px透明边框
- 选中：粉色边框（#ff6b9d）
- 点击：缩小动画（scale 0.98）
- 样式由设计师设计

---

### 5. 心动充值模块 (F10.5)
**¥3充值**:
- 心跳值：200次
- 人物创建：赠送1个额度

**¥6充值**:
- 心跳值：500次
- 人物创建：赠送3个额度

**¥12充值**:
- 心跳值：1200次
- 人物创建：赠送7个额度

**交互状态**:
- 与会员套餐卡片样式一致
- 样式由设计师设计

---

### 6. 立即充值按钮 (F10.6)
- 按钮文字："立即充值"
- 位置：固定在页面底部
- 未选择套餐时禁用（不透明度0.5）
- 选择套餐后启用
- 点击流程：
  1. 验证是否选择套餐，未选择提示"请选择一个套餐"
  2. 显示确认弹窗，展示套餐详情
  3. 用户确认后更新localStorage（heartBalance增加、createQuota增加）
  4. 页面余额实时更新
  5. 显示充值成功提示（包含获得的心跳值和额度）
  6. 2秒后自动返回个人中心 (profile.html)
- 样式由设计师设计

---

## 🎨 UI设计规范

所有页面视觉设计（包括颜色、字体、布局、间距、圆角、阴影、动画等）统一由设计师设计。

---

## 💾 数据存储方案

### localStorage数据操作

**读取数据**:
```javascript
{
  heartBalance: parseInt(localStorage.getItem('heartBalance')),
  dailyHeartBalance: parseInt(localStorage.getItem('dailyHeartBalance')),
  characterList: JSON.parse(localStorage.getItem('characterList')),
  characterCount: characterList.length,
  createQuota: parseInt(localStorage.getItem('createQuota'))
}
```

**更新数据（充值成功）**:
```javascript
{
  heartBalance: currentBalance + purchasedHearts,
  createQuota: currentQuota + purchasedCharacters,
  lastPurchaseType: 'vip' | 'recharge',
  lastPurchaseTime: new Date().toISOString()
}
```

---

## 💰 套餐定价

### 会员套餐
| 套餐 | 价格 | 心跳值 | 人物额度 | 时长 |
|------|------|--------|----------|------|
| 周度 | ¥9.9 | 1000 | 3 | 7天 |
| 月度 | ¥19.9 | 2500 | 7 | 30天 |

### 心动充值
| 档位 | 价格 | 心跳值 | 人物额度 |
|------|------|--------|----------|
| 小额 | ¥3 | 200 | 1 |
| 中档 | ¥6 | 500 | 3 |
| 大额 | ¥12 | 1200 | 7 |

---

## ✅ 测试与验收标准

### 功能完整性
- [ ] 6个核心功能全部实现
- [ ] 返回按钮跳转正确 (profile.html)
- [ ] 余额卡片显示总计（永久+今日赠送）
- [ ] VIP会员状态显示正确
- [ ] 已创建人物数量与characterList一致
- [ ] Tab切换流畅，默认显示会员套餐
- [ ] 2个会员套餐显示正确（周度、月度）
- [ ] 3个充值档位显示正确（¥3、¥6、¥12）
- [ ] 套餐选择状态清晰（粉色边框）
- [ ] 未选择套餐时按钮禁用
- [ ] 选择套餐后按钮启用
- [ ] 充值确认弹窗信息准确
- [ ] 充值成功后数据正确更新
- [ ] 页面余额实时更新
- [ ] 成功提示信息准确
- [ ] 2秒后自动返回个人中心
- [ ] 返回后余额同步

### 交互体验
- [ ] Tab切换动画流畅（0.3s）
- [ ] 卡片点击反馈及时
- [ ] 充值按钮点击有下压动画
- [ ] 充值成功提示友好
- [ ] 页面响应及时无卡顿

---

## 📝 更新记录

| 版本 | 日期 | 更新内容 | 负责人 |
|------|------|----------|--------|
| v0.1 | 2025-10-16 | 初始版本创建 | Cynthia |
| v0.2 | 2025-10-16 | 完善功能需求，增加数据存储方案 | Cynthia |
| v0.3 | 2025-10-18 | 精简功能描述语言，保留核心定价和数据方案 | Cynthia |

---

**文档维护**: 云养产品团队  
**最后更新**: 2025年10月18日  
**版本**: v0.3
