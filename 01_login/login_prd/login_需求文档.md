# 登录页面产品需求文档 (PRD)

## 📋 文档信息
- **文档版本**: v0.3
- **创建日期**: 2025年8月27日
- **最后更新**: 2025年10月17日
- **页面名称**: 登录页面 (login.html)
- **原型文件**: login.html

---

## 🏗️ 页面结构

```
登录页面
├── 状态栏 (系统级)
├── 应用LOGO区域
├── 登录表单区域
│   ├── 手机号输入区域
│   │   ├── 国家代码选择器 (+86)
│   │   └── 手机号输入框
│   ├── 验证码输入区域
│   │   ├── 验证码输入框
│   │   └── 获取验证码按钮
│   └── 立即登录按钮
├── 切换登录方式区域
└── 用户协议同意区域
```

---

## ⚙️ 功能需求详述

### 1. 应用LOGO展示 (F1.1)
**需求描述**: 展示应用品牌标识，建立用户对产品的第一印象

**功能细节**:
- LOGO样式、尺寸、位置、动画效果由设计师设计

**交互规范（供设计师参考）**:
- 点击LOGO无特殊操作
- 页面加载时LOGO有淡入动画

---

### 2. 手机号输入功能 (F1.2)
**需求描述**: 用户输入手机号进行身份验证

**功能细节**:
- 国家代码默认+86，不可更改
- 手机号输入框，最多11位数字
- 只能输入数字，自动过滤非数字字符
- 占位符："请输入手机号"
- 验证规则：必须为11位数字
- 输入框样式由设计师设计

**交互规范（供设计师参考）**:
- 输入框获得焦点时有视觉反馈
- 输入非数字字符时自动过滤
- 超过11位时自动截断
- 失去焦点时进行格式验证

**业务规则**:
- 支持中国大陆手机号格式
- 实时验证手机号格式
- 记录用户输入行为用于风控

---

### 3. 验证码获取功能 (F1.3)
**需求描述**: 用户获取手机验证码进行身份验证

**功能细节**:
- 获取按钮文字："获取验证码"
- 点击后60秒倒计时，期间按钮禁用
- 前置条件：必须先输入11位手机号
- 倒计时期间显示"XXs后重发"
- 按钮样式由设计师设计

**交互规范（供设计师参考）**:
- 未输入手机号时点击按钮提示"请先输入手机号"
- 手机号格式不正确时提示"手机号格式不正确，请输入11位手机号"
- 倒计时期间按钮禁用，显示剩余时间
- 倒计时结束后按钮恢复可用状态

**业务规则**:
- 同一手机号1分钟内只能发送1次验证码
- 同一手机号1小时内最多发送5次验证码
- 验证码有效期5分钟
- 记录发送行为用于风控

---

### 4. 验证码输入功能 (F1.4)
**需求描述**: 用户输入收到的验证码进行验证

**功能细节**:
- 验证码输入框，最多6位数字
- 只能输入数字，自动过滤非数字字符
- 占位符："请输入验证码"
- 验证规则：必须为6位数字
- 输入框样式由设计师设计

**交互规范（供设计师参考）**:
- 输入框获得焦点时有视觉反馈
- 输入非数字字符时自动过滤
- 超过6位时自动截断
- 实时验证格式

**业务规则**:
- 验证码区分大小写
- 验证码过期后需要重新获取
- 连续输入错误3次后锁定5分钟

---

### 5. 立即登录功能 (F1.5)
**需求描述**: 用户提交登录信息进行身份验证

**功能细节**:
- 按钮文字："立即登录"
- 加载状态文字："🌟 登录中..."
- 表单验证：手机号、验证码、协议同意状态
- 按钮样式由设计师设计

**交互规范（供设计师参考）**:
- 点击按钮时验证所有必填项
- 验证通过后显示加载状态
- 1.5秒后跳转到主页 (homepage.html)
- 验证失败时显示具体错误信息

**业务规则**:
- 手机号必须为11位数字
- 验证码必须为6位数字
- 必须同意用户协议
- 登录成功后记录登录日志
- 新用户自动注册并赠送1个创建额度

---

### 6. 切换登录方式功能 (F1.6)
**需求描述**: 提供账号密码登录的入口

**功能细节**:
- 链接文字："账号密码登录"
- 跳转目标：密码登录页面 (password_login.html)
- 链接样式由设计师设计

**交互规范（供设计师参考）**:
- 点击链接跳转到密码登录页面
- 支持返回登录页面

**业务规则**:
- 支持账号密码登录方式
- 提供忘记密码功能入口

---

### 7. 用户协议同意功能 (F1.7)
**需求描述**: 用户同意服务条款和隐私政策

**功能细节**:
- 复选框：用户必须勾选才能登录
- 协议文本："我已经阅读并同意《软件许可及服务协议》、《隐私协议》，未注册手机号登录后将自动创建云养账号"
- 协议链接：《软件许可及服务协议》和《隐私协议》可点击
- 复选框和文本样式由设计师设计

**交互规范（供设计师参考）**:
- 未勾选协议时点击登录按钮提示"请先同意服务协议和隐私协议"
- 协议文本可点击查看详情
- 协议文本加粗并添加下划线

**业务规则**:
- 必须同意协议才能登录
- 协议内容符合法律法规要求
- 记录用户同意行为

---

## 🎨 UI设计规范

所有页面视觉设计（包括颜色、字体、布局、间距、圆角、阴影、动画等）统一由设计师设计。

---

## 🧪 测试用例

### 功能测试
1. **正常登录流程**
   - 输入有效手机号 (11位数字)
   - 获取验证码
   - 输入验证码 (6位数字)
   - 勾选协议
   - 点击登录

2. **异常情况处理**
   - 未输入手机号获取验证码
   - 输入非11位手机号
   - 未输入验证码登录
   - 输入非6位验证码
   - 未勾选协议登录
   - 输入错误验证码

3. **边界条件测试**
   - 手机号为空/10位/12位
   - 验证码为空/5位/7位
   - 倒计时功能测试
   - 限流规则验证

---

## ✅ 验收标准（所有功能）

### F1.1 应用LOGO展示
- [ ] LOGO显示正确，无变形
- [ ] 动画效果流畅

### F1.2 手机号输入功能
- [ ] 国家代码显示+86，不可更改
- [ ] 只能输入数字
- [ ] 最多输入11位，自动截断
- [ ] 格式验证正确（必须11位）
- [ ] 错误提示友好

### F1.3 验证码获取功能
- [ ] 倒计时功能正常（60秒）
- [ ] 前置条件验证正确（需先输入11位手机号）
- [ ] 按钮状态切换正常（倒计时期间禁用）
- [ ] 限流规则生效（1分钟/次，1小时最多5次）

### F1.4 验证码输入功能
- [ ] 只能输入数字
- [ ] 最多输入6位，自动截断
- [ ] 格式验证正确（必须6位）
- [ ] 错误处理正确（连续错误3次锁定5分钟）

### F1.5 立即登录功能
- [ ] 表单验证完整（手机号11位、验证码6位、协议已勾选）
- [ ] 加载状态显示正确（"🌟 登录中..."）
- [ ] 跳转功能正常（跳转到homepage.html）
- [ ] 错误处理友好
- [ ] 新用户自动注册并赠送1个创建额度

### F1.6 切换登录方式功能
- [ ] 点击跳转到密码登录页面（password_login.html）
- [ ] 跳转功能正常

### F1.7 用户协议同意功能
- [ ] 复选框功能正常
- [ ] 协议文本显示正确
- [ ] 验证逻辑正确（未勾选时阻止登录，显示提示）
- [ ] 协议链接可点击

### 整体验收
- [ ] 页面加载快速
- [ ] 交互响应及时
- [ ] 动画效果流畅
- [ ] 不同设备尺寸适配良好
- [ ] 响应式布局正确

---

## 📝 更新记录

| 版本 | 日期 | 更新内容 | 负责人 |
|------|------|----------|--------|
| v0.1 | 2025-08-24 | 初始版本创建 | Cynthia |
| v0.2 | 2025-08-27 | 完善功能需求，增加UI设计建议 | Cynthia |
| v0.3 | 2025-10-17 | 精简功能描述语言，统一样式设计说明，突出重点功能 | Cynthia |

---

**文档维护**: 云养产品团队  
**最后更新**: 2025年10月17日  
**版本**: v0.3
