# 登录页面产品需求文档 (PRD)

## 📋 文档信息
- **文档版本**: v2.0
- **创建日期**: 2025年8月27日
- **最后更新**: 2025年8月27日
- **页面名称**: 登录页面 (login.html)
- **原型文件**: login.html
- **Flutter实现**: flutter_app/lib/screens/login_screen.dart
- **产品经理**: 资深产品经理
- **优先级**: P0 (核心功能)

---

## 🎯 产品概述

### 产品定位
登录页面是梦女治愈APP的用户身份验证入口，采用手机号+验证码的快速登录方式，为用户提供便捷、安全、友好的登录体验。

### 核心价值主张
1. **快速登录**: 无需记忆复杂密码，60秒内完成登录
2. **安全可靠**: 基于手机号的实名认证，符合监管要求
3. **用户友好**: 简洁的界面设计，降低使用门槛
4. **品牌展示**: 通过视觉设计传达产品调性和价值观

### 业务目标
- **转化率**: 登录成功率 > 95%
- **用户体验**: 登录流程完成时间 < 60秒
- **安全性**: 防止恶意注册和登录攻击
- **合规性**: 满足个人信息保护法规要求

---

## 👥 用户分析

### 目标用户画像

#### 主要用户群体
1. **新用户** (60%)
   - 首次下载APP的用户
   - 对产品功能好奇，需要快速体验
   - 对登录流程的便捷性要求高

2. **老用户** (35%)
   - 已注册用户，日常登录使用
   - 熟悉产品功能，追求效率
   - 对登录速度要求高

3. **游客用户** (5%)
   - 未注册但想体验功能的用户
   - 对产品价值存疑，需要引导

### 用户使用场景
- **首次下载**: 新用户安装APP后的首次登录 (40%)
- **日常使用**: 用户每天打开APP的登录验证 (35%)
- **设备切换**: 在新设备上重新登录 (15%)
- **会话过期**: 长时间未使用后的重新登录 (10%)

### 用户痛点分析
1. **密码记忆困难**: 用户经常忘记密码
2. **注册流程复杂**: 传统注册需要填写大量信息
3. **安全担忧**: 担心个人信息泄露
4. **等待时间长**: 验证码发送和接收延迟

---

## 🏗️ 功能架构

### 页面结构层次
```
登录页面
├── 状态栏 (系统级)
├── 应用LOGO区域
├── 登录表单区域
│   ├── 手机号输入区域
│   │   ├── 国家代码选择器 (+86)
│   │   └── 手机号输入框
│   ├── 验证码输入区域
│   │   ├── 验证码输入框
│   │   └── 获取验证码按钮
│   └── 立即登录按钮
├── 切换登录方式区域
└── 用户协议同意区域
```

### 功能模块划分
1. **身份验证模块**: 手机号验证、验证码验证
2. **用户协议模块**: 协议展示、用户同意
3. **登录方式模块**: 多种登录方式切换
4. **安全防护模块**: 防刷、限流、风控

---

## ⚙️ 功能需求详述

### 1. 应用LOGO展示 (F1.1)
**需求描述**: 展示应用品牌标识，建立用户对产品的第一印象
**优先级**: P0 (必须实现)
**业务价值**: 品牌识别、用户信任建立

**功能细节**:
- **LOGO样式**: 由设计师决定 (建议: 粉色渐变圆形背景，中心显示👸表情)
- **尺寸规格**: 由设计师决定 (建议: 120px × 120px)
- **位置**: 由设计师决定 (建议: 页面顶部居中显示)
- **动画效果**: 由设计师决定 (建议: 轻微缩放动画)

**交互规范**:
- 点击LOGO无特殊操作
- 页面加载时LOGO有淡入动画

**验收标准**:
- [ ] LOGO显示正确，无变形
- [ ] 样式由设计师决定
- [ ] 位置由设计师决定
- [ ] 动画效果流畅

### 2. 手机号输入功能 (F1.2)
**需求描述**: 用户输入手机号进行身份验证
**优先级**: P0 (必须实现)
**业务价值**: 用户身份识别、安全验证

**功能细节**:
- **国家代码**: 默认显示+86，固定不可更改
- **输入框**: 手机号输入框，最多11位数字
- **输入限制**: 只能输入数字，自动过滤非数字字符
- **占位符**: "请输入手机号"
- **验证规则**: 必须为11位数字

**交互规范**:
- 输入框获得焦点时有视觉反馈
- 输入非数字字符时自动过滤
- 超过11位时自动截断
- 失去焦点时进行格式验证

**业务规则**:
- 支持中国大陆手机号格式
- 实时验证手机号格式
- 记录用户输入行为用于风控

**验收标准**:
- [ ] 国家代码显示+86
- [ ] 只能输入数字
- [ ] 最多输入11位
- [ ] 输入框样式由设计师决定
- [ ] 格式验证正确
- [ ] 错误提示友好

### 3. 验证码获取功能 (F1.3)
**需求描述**: 用户获取手机验证码进行身份验证
**优先级**: P0 (必须实现)
**业务价值**: 安全验证、防止恶意注册

**功能细节**:
- **获取按钮**: "获取验证码"按钮
- **倒计时**: 点击后60秒倒计时，期间按钮禁用
- **前置条件**: 必须先输入11位手机号才能获取验证码
- **按钮状态**: 倒计时期间显示"XXs后重发"

**交互规范**:
- 未输入手机号时点击按钮提示"请先输入手机号"
- 手机号格式不正确时提示"手机号格式不正确，请输入11位手机号"
- 倒计时期间按钮禁用，显示剩余时间
- 倒计时结束后按钮恢复可用状态

**业务规则**:
- 同一手机号1分钟内只能发送1次验证码
- 同一手机号1小时内最多发送5次验证码
- 验证码有效期5分钟
- 记录发送行为用于风控

**验收标准**:
- [ ] 按钮样式由设计师决定
- [ ] 倒计时功能正常
- [ ] 前置条件验证正确
- [ ] 按钮状态切换正常
- [ ] 限流规则生效

### 4. 验证码输入功能 (F1.4)
**需求描述**: 用户输入收到的验证码进行验证
**优先级**: P0 (必须实现)
**业务价值**: 身份验证、安全登录

**功能细节**:
- **输入框**: 验证码输入框，最多6位数字
- **输入限制**: 只能输入数字，自动过滤非数字字符
- **占位符**: "请输入验证码"
- **验证规则**: 必须为6位数字

**交互规范**:
- 输入框获得焦点时有视觉反馈
- 输入非数字字符时自动过滤
- 超过6位时自动截断
- 实时验证格式

**业务规则**:
- 验证码区分大小写
- 验证码过期后需要重新获取
- 连续输入错误3次后锁定5分钟

**验收标准**:
- [ ] 只能输入数字
- [ ] 最多输入6位
- [ ] 输入框样式由设计师决定
- [ ] 格式验证正确
- [ ] 错误处理正确

### 5. 立即登录功能 (F1.5)
**需求描述**: 用户提交登录信息进行身份验证
**优先级**: P0 (必须实现)
**业务价值**: 用户登录、业务转化

**功能细节**:
- **按钮样式**: 由设计师决定 (建议: 粉色渐变背景，白色文字)
- **按钮文字**: "立即登录"
- **加载状态**: 登录过程中显示"🌟 登录中..."
- **表单验证**: 验证手机号、验证码、协议同意状态

**交互规范**:
- 点击按钮时验证所有必填项
- 验证通过后显示加载状态
- 1.5秒后跳转到主页 (homepage_screen.dart)
- 验证失败时显示具体错误信息

**业务规则**:
- 手机号必须为11位数字
- 验证码必须为6位数字
- 必须同意用户协议
- 登录成功后记录登录日志

**验收标准**:
- [ ] 按钮样式由设计师决定
- [ ] 表单验证完整
- [ ] 加载状态显示正确
- [ ] 跳转功能正常
- [ ] 错误处理友好

### 6. 切换登录方式功能 (F1.6)
**需求描述**: 提供账号密码登录的入口
**优先级**: P2 (可选功能)
**业务价值**: 用户选择、功能完整性

**功能细节**:
- **链接文字**: "账号密码登录"
- **跳转目标**: 跳转到密码登录页面 (password_login_screen.dart)

**交互规范**:
- 点击链接跳转到密码登录页面
- 支持返回登录页面

**业务规则**:
- 支持账号密码登录方式
- 提供忘记密码功能入口

**验收标准**:
- [ ] 链接样式由设计师决定
- [ ] 点击跳转到密码登录页面
- [ ] 跳转功能正常

### 7. 用户协议同意功能 (F1.7)
**需求描述**: 用户同意服务条款和隐私政策
**优先级**: P0 (必须实现)
**业务价值**: 法律合规、用户权益保护

**功能细节**:
- **复选框**: 用户必须勾选才能登录
- **协议文本**: "我已经阅读并同意《软件许可及服务协议》、《隐私协议》，未注册手机号登录后将自动创建昀阳账号"
- **样式**: 由设计师决定 (建议: 半透明白色背景，圆角设计)
- **协议链接**: 《软件许可及服务协议》和《隐私协议》可点击

**交互规范**:
- 未勾选协议时点击登录按钮提示"请先同意服务协议和隐私协议"
- 协议文本可点击查看详情
- 协议文本加粗并添加下划线

**业务规则**:
- 必须同意协议才能登录
- 协议内容符合法律法规要求
- 记录用户同意行为

**验收标准**:
- [ ] 复选框功能正常
- [ ] 协议文本显示正确
- [ ] 验证逻辑正确
- [ ] 样式由设计师决定
- [ ] 协议链接可点击

---

## 🎨 UI设计建议 (仅供设计师参考)

### 视觉风格建议
- **主色调**: 建议使用粉色渐变 (#FF9A9E → #FECFEF)，体现温暖治愈的品牌调性
- **背景色**: 建议使用粉紫色渐变 (#F0E5FF → #D9C6E0)，营造梦幻氛围
- **文字色**: 建议使用深紫色 (#6A4C93)，确保良好的可读性
- **装饰元素**: 建议使用浮动表情符号 (🌸✨💕🦋)，增加趣味性

### 布局规范建议
- **容器**: 建议使用iPhone 16尺寸 (393×852px) 作为设计基准
- **间距**: 建议统一使用20px间距，保持视觉一致性
- **圆角**: 建议输入框和按钮使用25px圆角，营造柔和感
- **阴影**: 建议使用适当的阴影效果增强层次感

### 交互反馈建议
- **输入框焦点**: 建议获得焦点时有轻微缩放效果 (scale: 1.02)
- **按钮点击**: 建议提供触觉反馈（移动端）和视觉反馈
- **加载状态**: 建议使用旋转动画和文字提示
- **错误提示**: 建议使用SnackBar或Toast提示，避免弹窗打断流程

### 动画效果建议
- **页面加载**: 建议使用淡入动画，时长1秒
- **表单元素**: 建议使用滑入动画，时长0.8秒
- **按钮状态**: 建议使用缩放动画，时长0.2秒
- **装饰元素**: 建议使用浮动动画，营造梦幻氛围

---

## 🔧 技术要求

### 前端技术栈
- **Flutter**: 跨平台移动应用开发框架
- **Dart**: 编程语言
- **Material Design**: UI组件库

### 兼容性要求
- **移动端**: iOS 12.0+, Android 6.0+
- **Web端**: Chrome 80+, Firefox 75+, Safari 13+
- **响应式**: 支持不同屏幕尺寸和分辨率

### 性能要求
- **页面加载**: 首次加载时间 < 2秒
- **交互响应**: 按钮点击响应时间 < 100ms
- **动画流畅**: 60fps的动画效果
- **内存占用**: 页面内存占用 < 50MB

---

## 📱 用户体验要求

### 可用性要求
- **易学性**: 新用户能在30秒内理解登录流程
- **效率性**: 熟练用户能在20秒内完成登录
- **错误率**: 登录错误率 < 5%
- **满意度**: 用户满意度评分 > 4.0/5.0

### 可访问性要求
- **视觉**: 支持高对比度模式
- **听觉**: 提供触觉反馈
- **操作**: 支持键盘导航
- **认知**: 提供清晰的错误提示

---

## 🧪 测试用例

### 功能测试
1. **正常登录流程**
   - 输入有效手机号 (11位数字)
   - 获取验证码
   - 输入验证码 (6位数字)
   - 勾选协议
   - 点击登录

2. **异常情况处理**
   - 未输入手机号获取验证码
   - 输入非11位手机号
   - 未输入验证码登录
   - 输入非6位验证码
   - 未勾选协议登录
   - 输入错误验证码

3. **边界条件测试**
   - 手机号为空
   - 手机号为10位
   - 手机号为12位
   - 验证码为空
   - 验证码为5位
   - 验证码为7位

### 界面测试
- 不同设备尺寸适配
- 不同浏览器兼容性
- 动画效果流畅性
- 响应式布局正确性

### 性能测试
- 页面加载时间
- 内存占用情况
- 网络请求优化
- 动画性能表现

---

## 📋 验收清单

### 功能验收
- [ ] 手机号输入和验证
- [ ] 验证码获取和倒计时
- [ ] 验证码输入和验证
- [ ] 协议同意功能
- [ ] 登录按钮和跳转
- [ ] 切换登录方式入口
- [ ] 错误处理和提示

### 界面验收
- [ ] LOGO显示正确
- [ ] 整体布局美观
- [ ] 动画效果流畅
- [ ] 响应式适配良好
- [ ] 视觉风格统一

### 交互验收
- [ ] 输入限制正确
- [ ] 表单验证完整
- [ ] 错误提示友好
- [ ] 加载状态清晰
- [ ] 反馈及时准确

### 性能验收
- [ ] 页面加载快速
- [ ] 交互响应及时
- [ ] 内存占用合理
- [ ] 网络请求优化

---

## 📝 更新记录

| 版本 | 日期 | 更新内容 | 负责人 |
|------|------|----------|--------|
| v1.0 | 2025-08-24 | 初始版本创建 | Cynthia |
| v2.0 | 2025-08-27 | 完善功能需求，增加UI设计建议 | Cynthia |

---

## 📞 联系方式

- **产品负责人**: 资深产品经理
- **技术负责人**: Flutter开发工程师
- **设计负责人**: UI/UX设计师
- **测试负责人**: QA测试工程师 