# 聊天主页产品需求文档 (PRD)

## 📋 文档信息
- **文档版本**: v0.3
- **创建日期**: 2025年1月12日
- **最后更新**: 2025年10月18日
- **页面名称**: 聊天主页 (homepage.html)
- **原型文件**: homepage.html

---

## 🏗️ 页面结构

```
聊天主页
├── 状态栏 (系统级)
├── 导航栏
│   ├── 页面标题 "聊天"
│   └── 添加好友按钮 (+)
├── 搜索栏
├── 聊天列表区域
│   ├── 聊天项目1
│   │   ├── 头像区域
│   │   ├── 昵称
│   │   ├── 最后消息预览
│   │   ├── 时间戳
│   │   └── 未读数量徽章
│   ├── 聊天项目2
│   └── ...更多聊天
└── 底部导航栏
    ├── 聊天 (当前页)
    ├── 联系人
    └── 我
```

---

## ⚙️ 功能需求详述

聊天主页是应用的核心入口，展示所有聊天会话列表，包含4个核心功能：导航栏、搜索、聊天列表显示、底部导航栏。

### 1. 导航栏功能 (F2.1)
**需求描述**: 提供页面标识和创建新人物的入口

**功能细节**:
- 页面标题显示"聊天"
- 右上角"+"按钮用于添加新人物
- 导航栏固定在页面顶部
- 样式由设计师设计

**交互规范（供设计师参考）**:
- 点击"+"按钮跳转至创建人物页面 (upload.html)
- 按钮点击时有视觉反馈
- 页面滚动时导航栏保持固定

**业务规则**:
- 用户必须有创建额度才能创建新人物
- 创建额度不足时提示充值

---

### 2. 搜索功能 (F2.2)
**需求描述**: 快速查找聊天记录和联系人

**功能细节**:
- 搜索框占位符："搜索聊天..."
- 支持联系人昵称模糊匹配
- 支持聊天内容关键词搜索
- 支持拼音首字母搜索
- 实时过滤显示结果
- 样式由设计师设计

**交互规范（供设计师参考）**:
- 输入时列表实时过滤
- 搜索结果高亮显示匹配关键词
- 显示清空按钮快速清除搜索内容
- 清空搜索后恢复完整列表

**业务规则**:
- 搜索响应时间 < 200ms
- 搜索历史本地缓存

---

### 3. 聊天列表显示 (F2.3)
**需求描述**: 展示所有聊天会话列表

**功能细节**:
- **头像区域**: 圆形头像，支持自定义上传
- **昵称**: 最多显示12个字符，超出显示省略号
- **最后消息**: 单行显示，超出省略
- **时间戳**: 显示最后消息时间（今天显示时分，昨天显示"昨天"，更早显示日期）
- **未读徽章**: 红色圆点或数字显示未读消息数
- 列表项样式由设计师设计

**交互规范（供设计师参考）**:
- 点击聊天项跳转到聊天详情页 (chat.html)
- 左滑显示快捷操作（置顶、删除）
- 列表流畅滚动，支持下拉刷新
- 空状态显示引导文案

**业务规则**:
- 按最后消息时间倒序排列
- 置顶的聊天固定在列表顶部
- 删除聊天后不可恢复
- 列表分页加载，每页20条

---

### 4. 底部导航栏 (F2.4)
**需求描述**: 应用主要功能模块入口

**功能细节**:
- **聊天**: 当前页面，选中状态高亮
- **联系人**: 跳转到联系人页面 (contacts.html)
- **我**: 跳转到个人中心页面 (profile.html)
- 导航栏固定在页面底部
- 样式由设计师设计

**交互规范（供设计师参考）**:
- 选中状态与未选中状态有明显视觉区别
- 点击时有视觉反馈
- 页面切换动画流畅

**业务规则**:
- 当前页面导航项保持选中状态
- 页面切换时保持导航栏可见
- 适配底部安全区域（iPhone X以上机型）

---

## 🎨 UI设计规范

所有页面视觉设计（包括颜色、字体、布局、间距、圆角、阴影、动画等）统一由设计师设计。

---

## ✅ 测试与验收标准

### 功能完整性
- [ ] 4个核心功能全部实现
- [ ] 导航栏标题和"+"按钮显示正确
- [ ] "+"按钮跳转到创建页面 (upload.html)
- [ ] 额度不足时提示充值
- [ ] 搜索实时过滤，支持昵称/内容/拼音搜索
- [ ] 搜索响应 < 200ms
- [ ] 聊天列表显示完整（头像、昵称、消息、时间、未读）
- [ ] 列表按时间倒序，置顶项在最上方
- [ ] 点击聊天项跳转正确 (chat.html)
- [ ] 左滑操作（置顶、删除）功能正常
- [ ] 底部导航跳转正确（联系人、我）
- [ ] 当前页"聊天"高亮显示

### 交互体验
- [ ] 列表滚动流畅，支持下拉刷新
- [ ] 导航栏固定定位正常
- [ ] 页面切换动画流畅
- [ ] 首屏加载 < 2秒，响应及时无卡顿

---

## 📝 更新记录

| 版本 | 日期 | 更新内容 | 负责人 |
|------|------|----------|--------|
| v0.1 | 2025-01-12 | 初始版本创建 | Cynthia |
| v0.2 | 2025-08-24 | 完善功能需求，增加UI设计建议 | Cynthia |
| v0.3 | 2025-10-18 | 精简功能描述语言，统一样式设计说明，突出重点功能 | Cynthia |

---

**文档维护**: 云养产品团队  
**最后更新**: 2025年10月18日  
**版本**: v0.3
