# 密码登录页面产品需求文档 (PRD)

## 文档信息
- **文档版本**: v1.0
- **创建日期**: 2025年8月27日
- **最后更新**: 2025年8月27日
- **Flutter实现**: ✅ 已完成
- **产品经理**: Cynthia
- **优先级**: P0

## 产品概述

### 功能描述
密码登录页面是用户通过手机号+密码方式进行身份验证的入口页面，为用户提供传统的账号密码登录方式，作为验证码登录的补充登录选项。

### 业务价值
- 为用户提供多种登录方式选择，提升用户体验
- 满足用户对传统登录方式的习惯性需求
- 降低用户登录门槛，提高登录成功率

### 用户分析
- **主要用户**: 已注册用户、习惯密码登录的用户
- **使用场景**: 用户选择"账号密码登录"后的登录流程
- **用户需求**: 快速、安全地使用手机号+密码登录

## 功能架构

### 页面层级
```
登录页面 (验证码登录)
    ↓ 点击"账号密码登录"
密码登录页面
    ↓ 登录成功
聊天主页
```

### 功能模块
1. **页面导航**: 返回按钮
2. **品牌展示**: App LOGO
3. **登录表单**: 手机号输入、密码输入
4. **登录操作**: 立即登录按钮
5. **辅助功能**: 忘记密码链接
6. **协议确认**: 服务协议和隐私协议

## 功能需求详述

### 1. 页面导航

#### 1.1 返回按钮
**功能描述**: 页面左上角显示返回按钮，点击可返回上一页面

**业务规则**:
- 点击返回按钮应回到验证码登录页面
- 返回操作应保持用户已输入的手机号信息

**交互规范**:
- 按钮样式由设计师决定
- 点击反馈由设计师决定

### 2. 品牌展示

#### 2.1 App LOGO
**功能描述**: 页面顶部居中显示应用LOGO

**业务规则**:
- LOGO应清晰可见，体现应用品牌形象
- LOGO位置应不影响其他功能区域

**交互规范**:
- LOGO样式、尺寸规格、位置由设计师决定
- 建议: 使用渐变色彩和圆润设计，体现梦女风格，仅供设计师参考

### 3. 登录表单

#### 3.1 手机号输入框
**功能描述**: 用户输入手机号码的输入框

**业务规则**:
- 默认显示"+86"国家代码，固定不可更改
- 限制只能输入数字
- 最大长度11位
- 必填项验证
- 格式验证：必须是11位手机号

**交互规范**:
- 输入框样式、尺寸规格由设计师决定
- 建议: 圆角设计，半透明背景，仅供设计师参考
- 错误提示: "手机号格式不正确，请输入11位手机号"

#### 3.2 密码输入框
**功能描述**: 用户输入密码的输入框

**业务规则**:
- 默认隐藏密码内容
- 提供显示/隐藏密码的切换按钮
- 必填项验证
- 密码长度验证：最少6位

**交互规范**:
- 输入框样式、尺寸规格由设计师决定
- 建议: 与手机号输入框保持一致的设计风格，仅供设计师参考
- 错误提示: "密码长度不能少于6位"

### 4. 登录操作

#### 4.1 立即登录按钮
**功能描述**: 用户点击进行登录验证的按钮

**业务规则**:
- 点击前验证所有必填项
- 验证协议是否已同意
- 登录过程中显示加载状态
- 登录成功后跳转到聊天主页 (homepage_screen.dart)

**交互规范**:
- 按钮样式、尺寸规格由设计师决定
- 建议: 渐变色彩，圆角设计，体现梦女风格，仅供设计师参考
- 加载状态: 显示"登录中..."文字和加载动画

### 5. 辅助功能

#### 5.1 忘记密码链接
**功能描述**: 用户忘记密码时的帮助入口

**业务规则**:
- 点击跳转到忘记密码页面 (forgot_password_screen.dart)
- 支持完整的密码重置流程

**交互规范**:
- 链接样式由设计师决定
- 建议: 使用主题色，仅供设计师参考
- 点击跳转到忘记密码页面

### 6. 协议确认

#### 6.1 协议复选框
**功能描述**: 用户确认同意服务协议和隐私协议的复选框

**业务规则**:
- 默认不选中
- 必须选中才能进行登录
- 协议文本中的链接可点击查看详情

**交互规范**:
- 复选框样式由设计师决定
- 协议文本样式由设计师决定
- 建议: 协议链接使用粗体下划线样式，仅供设计师参考
- 协议文本: "我已经阅读并同意《软件许可及服务协议》、《隐私协议》。"

## 技术实现

### Flutter实现状态
- ✅ 页面基础结构
- ✅ 返回按钮功能
- ✅ App LOGO展示
- ✅ 手机号输入验证
- ✅ 密码输入验证
- ✅ 登录按钮功能
- ✅ 忘记密码功能
- ✅ 协议确认功能
- ✅ 页面动画效果

### 文件路径
- `flutter_app/lib/screens/password_login_screen.dart`

## 验收标准

### 功能验收
- [ ] 返回按钮能正确返回上一页面
- [ ] 手机号输入框能正确验证11位格式
- [ ] 密码输入框能正确验证最少6位
- [ ] 登录按钮在未同意协议时显示提示
- [ ] 登录成功后正确跳转到聊天主页
- [ ] 忘记密码链接能正确跳转到忘记密码页面
- [ ] 协议链接能正确显示详情弹窗

### 用户体验验收
- [ ] 页面加载动画流畅
- [ ] 输入验证反馈及时
- [ ] 错误提示信息清晰
- [ ] 按钮点击反馈明显
- [ ] 页面响应速度良好

